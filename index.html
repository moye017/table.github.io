<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>手势朗读信息系统</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
        }
        #message {
            margin: 10px;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>手势朗读系统</h1>
    <p id="message">请滑动屏幕...</p>
    <script>
        const messageElement = document.getElementById('message');

        const messages = {
            'up': '向上',
            'down': '向下',
            'left': '向左',
            'right': '向右'
        };

        let touchStartX = 0;
        let touchStartY = 0;
        let touchEndX = 0;
        let touchEndY = 0;

        const handleGesture = () => {
            const dx = touchEndX - touchStartX;
            const dy = touchEndY - touchStartY;
            const absDx = Math.abs(dx);
            const absDy = Math.abs(dy);

            if (Math.max(absDx, absDy) > 50) { // 只有在一定距离（50px）以上的滑动时才识别
                if (absDx > absDy) {
                    // 水平方向滑动
                    if (dx > 0) {
                        speak('right');
                    } else {
                        speak('left');
                    }
                } else {
                    // 垂直方向滑动
                    if (dy > 0) {
                        speak('down');
                    } else {
                        speak('up');
                    }
                }
            }
        };

        const speak = (direction) => {
            const message = messages[direction];
            if (message) {
                messageElement.textContent = message;
                const utterance = new SpeechSynthesisUtterance(message);
                speechSynthesis.speak(utterance);
            }
        };

        document.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
            touchStartY = e.changedTouches[0].screenY;
        }, false);

        document.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            touchEndY = e.changedTouches[0].screenY;
            handleGesture();
        }, false);
    </script>
</body>
</html>
